{"version":3,"sources":["../../src/components/Directory.view.js"],"names":["fileTypes","JsIcon","HtmlIcon","JsonIcon","CssIcon","DirectoryComponents","FileComponent","isSaved","fileType","path","name","level","openFile","currentFile","newlyCreated","FileIcon","undefined","isSavedBlob","_path","sep","propTypes","PropTypes","bool","string","func","FolderComponent","toggleFolder","isExpanded","FolderIcon","OpenFolder","ClosedFolder","onClick","concat","Components","directory","Object","keys","map","dir","index","isdir","push","Math","random","children","Directory","full","closeDirectory","className","displayName","dirName","length","object"],"mappings":"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","sourcesContent":["import React        from 'react';\r\nimport PropTypes    from 'prop-types';\r\nimport JsIcon       from \"../icons/javascript.jsx\";\r\nimport ClosedFolder from \"../icons/closedFolder.jsx\";\r\nimport OpenFolder   from \"../icons/openDir.jsx\";\r\nimport HtmlIcon     from \"../icons/HtmlIcon.jsx\";\r\nimport JsonIcon     from \"../icons/JsonIcon.jsx\";\r\nimport CssIcon      from \"../icons/CssIcon.jsx\";\r\nimport CancelIcon   from \"../icons/CancelIcon.jsx\";\r\nimport _path        from \"path\";\r\nlet fileTypes = { 'javascript':JsIcon,'html':HtmlIcon,'json':JsonIcon,'css':CssIcon };\r\n\r\nlet DirectoryComponents = [];\r\n\r\nconst FileComponent = ({ isSaved,fileType,path,name,level,openFile,currentFile,newlyCreated }) => {\r\n    //console.log(\" file type \",fileType);\r\n    let FileIcon = fileTypes[fileType] != undefined ? fileTypes[fileType] : () => { return ''; };\r\n    //console.log(\" file icon \",FileIcon);\r\n    let isSavedBlob = isSaved ? '':<span className=\"is-saved\"></span>\r\n    return (\r\n        <p className=\"list-default\" onClick={() => openFile(`${path}${_path.sep}${name}`,currentFile,newlyCreated) } > \r\n            <span className=\"level\" > {level} </span>\r\n            <FileIcon className=\"file-icon\"/>\r\n            <span className=\"file-pointer\" >{ name }</span>\r\n            { isSavedBlob }\r\n        </p>\r\n    );\r\n}\r\nFileComponent.propTypes = {\r\n    isSaved:PropTypes.bool,\r\n    fileType:PropTypes.string,\r\n    path:PropTypes.string,\r\n    name:PropTypes.string,\r\n    level:PropTypes.string,\r\n    openFile:PropTypes.func,\r\n    currentFile:PropTypes.string,\r\n    newlyCreated:PropTypes.bool\r\n}\r\n\r\nconst FolderComponent = ({ toggleFolder,path,isExpanded,level,name }) => {\r\n    let FolderIcon = isExpanded  ? OpenFolder:ClosedFolder;\r\n    const onClick = () => { return toggleFolder(path.concat(`/${name}`));  }\r\n    return (\r\n        <p className=\"list-default\" onClick={onClick} >\r\n            <span className=\"level\"> { level } </span> \r\n            <FolderIcon className=\"folder-icon\"/><span className=\"folder-name\" > { name } </span>/\r\n        </p>\r\n    )\r\n}\r\nFolderComponent.propTypes = {\r\n    toggleFolder:PropTypes.func,\r\n    path:PropTypes.string,\r\n    isExpanded:PropTypes.bool,\r\n    level:PropTypes.string,\r\n    name:PropTypes.string\r\n}\r\n\r\nconst Components = ({ directory,level,openFile,toggleFolder,currentFile }) => {\r\n    Object.keys(directory).map((dir,index) => {\r\n        if (directory[dir].isdir) {\r\n            DirectoryComponents.push(\r\n                <FolderComponent \r\n                    key={`folder-${dir}-${index}-${Math.random()}`} \r\n                    path={directory[dir].path}\r\n                    isExpanded={directory[dir].isExpanded}\r\n                    name={dir}\r\n                    level={`${level}__`}\r\n                    toggleFolder={toggleFolder}\r\n                    openFile={openFile} />\r\n            )\r\n            if (!directory[dir].isExpanded) return '';\r\n            //console.log(\" directory \",dir,\" children \",directory[dir].children);\r\n            return Components({ \r\n                directory:directory[dir].children,level:`${level}__`,openFile,toggleFolder,currentFile\r\n            });\r\n        }\r\n        else {\r\n            DirectoryComponents.push(\r\n                <FileComponent \r\n                    { ...directory[dir] } \r\n                    key={`file-${dir}-${index}`} \r\n                    level={`${level}__`}\r\n                    openFile={openFile}\r\n                    name={dir}\r\n                    currentFile={currentFile} />\r\n                );\r\n        }\r\n    })\r\n}\r\n\r\nconst Directory = ({  directory,openFile,full,toggleFolder,path,closeDirectory,currentFile }) => {\r\n    const className = full ? \"col-md-12 side\":\"directory-side\";\r\n    let displayName = full ? `${path}${_path.sep}${directory.name}${_path.sep}`:`${directory.name} /`;\r\n    let dirName  = full ? 'offset-md-1 col-md-6':'';\r\n    if (DirectoryComponents.length > 0) DirectoryComponents = [];\r\n    Components({ directory:directory.children,level:'|',openFile,toggleFolder,currentFile })\r\n    return (\r\n        <div className={className} >\r\n            <div className=\"col-md-12\" >\r\n            <span className=\"file-path\"> { displayName } </span>\r\n            <CancelIcon className=\"cancel-icon\" onClick={closeDirectory} />\r\n            </div>\r\n            <div className={`directory ${dirName}`} > { DirectoryComponents }</div>\r\n        </div>\r\n    );\r\n}\r\nDirectory.propTypes = {\r\n    directory:PropTypes.object,\r\n    openFile:PropTypes.func,\r\n    full:PropTypes.bool,\r\n    toggleFolder:PropTypes.func,\r\n    path:PropTypes.string,\r\n    closeDirectory:PropTypes.func,\r\n    currentFile:PropTypes.string\r\n};\r\n\r\nexport default Directory;"],"file":"Directory.view.js"}