{"version":3,"sources":["../../src/components/Directory.view.js"],"names":["fileTypes","JsIcon","HtmlIcon","JsonIcon","CssIcon","DirectoryComponents","FileComponent","isSaved","fileType","path","name","level","openFile","currentFile","newlyCreated","FileIcon","undefined","isSavedBlob","propTypes","PropTypes","bool","string","func","FolderComponent","toggleFolder","isExpanded","FolderIcon","OpenFolder","ClosedFolder","onClick","concat","Components","directory","Object","keys","map","dir","index","isdir","push","Math","random","children","Directory","full","closeDirectory","className","displayName","split","length","dirName","object"],"mappings":"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","sourcesContent":["import React        from 'react';\r\nimport PropTypes    from 'prop-types';\r\nimport JsIcon       from \"../icons/javascript.jsx\";\r\nimport ClosedFolder from \"../icons/closedFolder.jsx\";\r\nimport OpenFolder   from \"../icons/openDir.jsx\";\r\nimport HtmlIcon     from \"../icons/HtmlIcon.jsx\";\r\nimport JsonIcon     from \"../icons/JsonIcon.jsx\";\r\nimport CssIcon      from \"../icons/CssIcon.jsx\";\r\nimport CancelIcon   from \"../icons/CancelIcon.jsx\";\r\nlet fileTypes = { 'javascript':JsIcon,'html':HtmlIcon,'json':JsonIcon,'css':CssIcon };\r\n\r\nlet DirectoryComponents = [];\r\n\r\nconst FileComponent = ({ isSaved,fileType,path,name,level,openFile,currentFile,newlyCreated }) => {\r\n    //console.log(\" file type \",fileType);\r\n    let FileIcon = fileTypes[fileType] != undefined ? fileTypes[fileType] : () => { return ''; };\r\n    //console.log(\" file icon \",FileIcon);\r\n    let isSavedBlob = isSaved ? '':<span className=\"is-saved\"></span>\r\n    return (\r\n        <p className=\"list-default\" onClick={() => openFile(`${path}/${name}`,currentFile,newlyCreated) } > \r\n            <span className=\"level\" > {level} </span>\r\n            <FileIcon className=\"file-icon\"/>\r\n            <span className=\"file-pointer\" >{ name }</span>\r\n            { isSavedBlob }\r\n        </p>\r\n    );\r\n}\r\nFileComponent.propTypes = {\r\n    isSaved:PropTypes.bool,\r\n    fileType:PropTypes.string,\r\n    path:PropTypes.string,\r\n    name:PropTypes.string,\r\n    level:PropTypes.string,\r\n    openFile:PropTypes.func,\r\n    currentFile:PropTypes.string,\r\n    newlyCreated:PropTypes.bool\r\n}\r\n\r\nconst FolderComponent = ({ toggleFolder,path,isExpanded,level,name }) => {\r\n    let FolderIcon = isExpanded  ? OpenFolder:ClosedFolder;\r\n    const onClick = () => { return toggleFolder(path.concat(`/${name}`));  }\r\n    return (\r\n        <p className=\"list-default\" onClick={onClick} >\r\n            <span className=\"level\"> { level } </span> \r\n            <FolderIcon className=\"folder-icon\"/><span className=\"folder-name\" > { name } </span>/\r\n        </p>\r\n    )\r\n}\r\nFolderComponent.propTypes = {\r\n    toggleFolder:PropTypes.func,\r\n    path:PropTypes.string,\r\n    isExpanded:PropTypes.bool,\r\n    level:PropTypes.string,\r\n    name:PropTypes.string\r\n}\r\n\r\nconst Components = ({ directory,level,openFile,toggleFolder,currentFile }) => {\r\n    Object.keys(directory).map((dir,index) => {\r\n        if (directory[dir].isdir) {\r\n            DirectoryComponents.push(\r\n                <FolderComponent \r\n                    key={`folder-${dir}-${index}-${Math.random()}`} \r\n                    path={directory[dir].path}\r\n                    isExpanded={directory[dir].isExpanded}\r\n                    name={dir}\r\n                    level={`${level}__`}\r\n                    toggleFolder={toggleFolder}\r\n                    openFile={openFile} />\r\n            )\r\n            if (!directory[dir].isExpanded) return '';\r\n            //console.log(\" directory \",dir,\" children \",directory[dir].children);\r\n            return Components({ \r\n                directory:directory[dir].children,level:`${level}__`,openFile,toggleFolder,currentFile\r\n            });\r\n        }\r\n        else {\r\n            DirectoryComponents.push(\r\n                <FileComponent \r\n                    { ...directory[dir] } \r\n                    key={`file-${dir}-${index}`} \r\n                    level={`${level}__`}\r\n                    openFile={openFile}\r\n                    name={dir}\r\n                    currentFile={currentFile} />\r\n                );\r\n        }\r\n    })\r\n}\r\n\r\nconst Directory = ({  directory,openFile,full,toggleFolder,path,closeDirectory,currentFile }) => {\r\n    const className = full ? \"col-md-12 side\":\"directory-side\";\r\n    //obtain Components.\r\n    //console.log(\" directory children \",directory.children);\r\n    let displayName = full ? path:path.split('/')[path.split('/').length]\r\n    let dirName  = full ? 'offset-md-1 col-md-6':'';\r\n    if (DirectoryComponents.length > 0) DirectoryComponents = [];\r\n    Components({ directory:directory.children,level:'|',openFile,toggleFolder,currentFile })\r\n    return (\r\n        <div className={className} >\r\n            <div className=\"col-md-12\" >\r\n            <span className=\"file-path\"> { displayName } </span>\r\n            <CancelIcon className=\"cancel-icon\" onClick={closeDirectory} />\r\n            </div>\r\n            <div className={`directory ${dirName}`} > { DirectoryComponents }</div>\r\n        </div>\r\n    );\r\n}\r\nDirectory.propTypes = {\r\n    directory:PropTypes.object,\r\n    openFile:PropTypes.func,\r\n    full:PropTypes.bool,\r\n    toggleFolder:PropTypes.func,\r\n    path:PropTypes.string,\r\n    closeDirectory:PropTypes.func,\r\n    currentFile:PropTypes.string\r\n};\r\n\r\nexport default Directory;"],"file":"Directory.view.js"}